type: object
additionalProperties: no
required:
  - _authors
  - titles

$defs:
  authorLink:
    type: object
    additionalProperties: no
    required: [ id ]

    properties:
      id:
        type: string
        pattern: "^[a-z]{2,255}$"
        description: Author ID
      comment:
        type: string

  workLink:
    type: object
    additionalProperties: no
    required: [ id ]

    properties:
      id:
        type: string
        pattern: "^[a-z]{2,255}$"
        description: Work ID
      comment:
        type: string

properties:
  _authors:
    type: object
    additionalProperties: no
    anyOf: 
      - composedby
      - ascribedto
    properties:
      composedby:
        type: array
        items: { $ref: "#/$defs/authorLink" }
        minItems: 1
        maxItems: 100
      ascribedto:
        type: array
        items: { $ref: "#/$defs/authorLink" }
        minItems: 1
        maxItems: 100
  _works:
    type: object
    additionalProperties: no
    anyOf: [ commentaryof, translationof]
    properties:
      commentaryof:
        type: array
        items: { $ref: "#/$defs/workLink" }
        minItems: 1
        maxItems: 100
      translationof:
        type: array
        items: { $ref: "#/$defs/workLink" }
        minItems: 1
        maxItems: 100

  titles:
    items:
      pattern: ^[a-zA-ZāīūṛṝḷḹṃṁḥṅṇñṭḍśṣĀĪŪṚṜḶḸṀṂŚṢḤṄṆÑṬḌ]{2,255}$
      type: string
    type: array
